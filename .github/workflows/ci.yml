# ワークフローの名前
name: Continuous Integration
# pushイベントを指定する
on: push

jobs:
    # ジョブのID
    unit-test:
        # ジョブの名前
        name: Unit Test
        # ジョブを実行する仮想マシン(ubuntu 18.04)
        runs-on: ubuntu-latest
        # ステップを定義する
        steps:
            # ブラウザで表示される名前(name)
            - name: Checkout
            # アクションの実行を定義する(uses)。アクションは別ファイルで定義
            uses: actions/checkout@v2.0.0
            - name: Set Node.js 12.x
            uses: actions/setup-node@v1.3.0
            # 直前のアクションで使うパラメータを定義する(with)。INPUT_(パラメータを大文字)でアクションに渡される
            with:
                node-version: 12.x
            - name: Install dependencies
                # コマンドラインを実行する(run)
                run: npm ci
            - name: Test
                run: npm test
    lint:
        name: Lint
        runs-on: ubuntu-latest
        steps:
            - name: Checkout
              uses: actions/checkout@v2.0.0
            - name: Set node.js 12.x
              uses: actions/setup-node@v1.3.0
              with:
                node-version: 12.x
            - name: Install dependencies
                run: npm ci
            - name: Lint
                run: npm run lint
